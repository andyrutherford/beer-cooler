{"ast":null,"code":"var _jsxFileName = \"/Users/andy/Projects/beer-cooler-merged/client/src/components/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../actions/auth-action';\nimport { setAlert } from '../actions/alert-action';\nimport { coolerCheckoutAsGuest } from '../actions/cooler-action';\n\nconst Login = ({\n  loginUser,\n  setAlert,\n  isAuthenticated,\n  location,\n  coolerCheckoutAsGuest\n}) => {\n  let history = useHistory();\n  const {\n    checkout\n  } = location;\n  const [userData, setUserData] = useState({\n    email: '',\n    password: ''\n  }); // If isAuthenticated, redirect to '/beers'\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push('/beers');\n      setAlert('You have successfully logged in.');\n    }\n  }, [isAuthenticated, history, setAlert]);\n\n  const testAccount = () => {\n    setUserData({\n      email: 'john@gmail.com',\n      password: '123456'\n    });\n  };\n\n  const onChangeHandler = e => {\n    setUserData({ ...userData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n\n    if (userData.email === '' || userData.password === '') {\n      return setAlert('Please enter a valid email and password.');\n    }\n\n    if (userData.password.length < 6) {\n      return setAlert('The password must be at least 6 characters.');\n    }\n\n    loginUser({\n      email: userData.email,\n      password: userData.password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), \" Login\", ' '), \"Just testing?\", ' ', /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-link p-0\",\n    onClick: testAccount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Login to a test account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitHandler,\n    className: \"mt-4 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control mb-4\",\n    name: \"email\",\n    placeholder: \"Email\",\n    onChange: onChangeHandler,\n    value: userData.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    placeholder: \"Password\",\n    onChange: onChangeHandler,\n    value: userData.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Your password must contain a minimum of 6 characters.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-actions d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot_password\",\n    className: \"btn pull-left btn-link text-muted pl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Forgot password?\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    className: \"btn btn-link text-muted mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Submit\"))), checkout && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/checkout\",\n    onClick: () => coolerCheckoutAsGuest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Checkout as a Guest\"))));\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  loginUser,\n  setAlert,\n  coolerCheckoutAsGuest\n})(Login);","map":{"version":3,"sources":["/Users/andy/Projects/beer-cooler-merged/client/src/components/Login.js"],"names":["React","useState","useEffect","useHistory","Link","connect","loginUser","setAlert","coolerCheckoutAsGuest","Login","isAuthenticated","location","history","checkout","userData","setUserData","email","password","push","testAccount","onChangeHandler","e","target","name","value","onSubmitHandler","preventDefault","length","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../actions/auth-action';\nimport { setAlert } from '../actions/alert-action';\nimport { coolerCheckoutAsGuest } from '../actions/cooler-action';\n\nconst Login = ({\n  loginUser,\n  setAlert,\n  isAuthenticated,\n  location,\n  coolerCheckoutAsGuest,\n}) => {\n  let history = useHistory();\n  const { checkout } = location;\n\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n  });\n\n  // If isAuthenticated, redirect to '/beers'\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push('/beers');\n      setAlert('You have successfully logged in.');\n    }\n  }, [isAuthenticated, history, setAlert]);\n\n  const testAccount = () => {\n    setUserData({\n      email: 'john@gmail.com',\n      password: '123456',\n    });\n  };\n\n  const onChangeHandler = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n    if (userData.email === '' || userData.password === '') {\n      return setAlert('Please enter a valid email and password.');\n    }\n\n    if (userData.password.length < 6) {\n      return setAlert('The password must be at least 6 characters.');\n    }\n\n    loginUser({\n      email: userData.email,\n      password: userData.password,\n    });\n  };\n\n  return (\n    <div className='login-form'>\n      <h1>\n        <i className='fas fa-sign-in-alt'></i> Login{' '}\n      </h1>\n      Just testing?{' '}\n      <button className='btn btn-link p-0' onClick={testAccount}>\n        Login to a test account\n      </button>\n      <form onSubmit={onSubmitHandler} className='mt-4 mb-2'>\n        <div className='form-group'>\n          <input\n            type='email'\n            className='form-control mb-4'\n            name='email'\n            placeholder='Email'\n            onChange={onChangeHandler}\n            value={userData.email}\n          />\n        </div>\n        <div className='form-group'>\n          <input\n            type='password'\n            className='form-control'\n            name='password'\n            placeholder='Password'\n            onChange={onChangeHandler}\n            value={userData.password}\n          />\n          <small className='form-text text-muted'>\n            Your password must contain a minimum of 6 characters.\n          </small>\n        </div>\n        <div className='form-actions d-flex justify-content-between'>\n          <Link\n            to='/forgot_password'\n            className='btn pull-left btn-link text-muted pl-0'\n          >\n            Forgot password?\n          </Link>\n          <div>\n            <Link to='/signup' className='btn btn-link text-muted mr-4'>\n              Sign Up\n            </Link>\n            <button type='submit' className='btn btn-primary mb-1'>\n              Submit\n            </button>\n          </div>\n        </div>\n        {checkout && (\n          <div>\n            <hr />\n            <Link to='/checkout' onClick={() => coolerCheckoutAsGuest()}>\n              Checkout as a Guest\n            </Link>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, {\n  loginUser,\n  setAlert,\n  coolerCheckoutAsGuest,\n})(Login);\n"]},"metadata":{},"sourceType":"module"}