{"ast":null,"code":"var _jsxFileName = \"/Users/andy/Projects/beer-cooler-merged/client/src/components/cooler/Checkout.js\";\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport ProfileAddress from '../profile/ProfileAddress';\nimport CheckoutPayment from './CheckoutPayment';\nimport { getCurrentProfile } from '../../actions/profile-action';\nimport { coolerCheckout } from '../../actions/cooler-action';\nexport const Checkout = ({\n  coolerCheckout,\n  getCurrentProfile,\n  isAuthenticated,\n  checkoutAsGuest,\n  addressValid,\n  paymentValid\n}) => {\n  const history = useHistory(); // TODO\n  // Standardize error handling for address and payment components\n\n  useEffect(() => {\n    if (!isAuthenticated && checkoutAsGuest !== true) {\n      history.push('/cooler');\n    }\n  }, [checkoutAsGuest, history, isAuthenticated]);\n  useEffect(() => {\n    getCurrentProfile();\n  }, [isAuthenticated, getCurrentProfile]);\n\n  const onSubmit = e => {\n    coolerCheckout();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), checkoutAsGuest && ' Guest ', \" Checkout\"), checkoutAsGuest ? /*#__PURE__*/React.createElement(ProfileAddress, {\n    className: \"mb-5\",\n    guest: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(ProfileAddress, {\n    className: \"mb-5\",\n    order: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), checkoutAsGuest ? /*#__PURE__*/React.createElement(CheckoutPayment, {\n    guest: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(CheckoutPayment, {\n    guest: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-actions d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/cooler\",\n    className: \"btn pull-left btn-link text-muted pl-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-link text-muted mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/review-order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary mb-1\",\n    onClick: onSubmit,\n    disabled: !(addressValid && paymentValid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Review Your Order \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }))))));\n};\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  address: state.profile.address,\n  payment: state.profile.payment,\n  checkoutAsGuest: state.cooler.checkoutAsGuest,\n  addressValid: state.cooler.addressValid,\n  paymentValid: state.cooler.paymentValid\n});\n\nexport default connect(mapStateToProps, {\n  coolerCheckout,\n  getCurrentProfile\n})(Checkout);","map":{"version":3,"sources":["/Users/andy/Projects/beer-cooler-merged/client/src/components/cooler/Checkout.js"],"names":["React","useEffect","connect","Link","useHistory","ProfileAddress","CheckoutPayment","getCurrentProfile","coolerCheckout","Checkout","isAuthenticated","checkoutAsGuest","addressValid","paymentValid","history","push","onSubmit","e","mapStateToProps","state","auth","address","profile","payment","cooler"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport ProfileAddress from '../profile/ProfileAddress';\nimport CheckoutPayment from './CheckoutPayment';\n\nimport { getCurrentProfile } from '../../actions/profile-action';\nimport { coolerCheckout } from '../../actions/cooler-action';\n\nexport const Checkout = ({\n  coolerCheckout,\n  getCurrentProfile,\n  isAuthenticated,\n  checkoutAsGuest,\n  addressValid,\n  paymentValid,\n}) => {\n  const history = useHistory();\n\n  // TODO\n  // Standardize error handling for address and payment components\n\n  useEffect(() => {\n    if (!isAuthenticated && checkoutAsGuest !== true) {\n      history.push('/cooler');\n    }\n  }, [checkoutAsGuest, history, isAuthenticated]);\n\n  useEffect(() => {\n    getCurrentProfile();\n  }, [isAuthenticated, getCurrentProfile]);\n\n  const onSubmit = (e) => {\n    coolerCheckout();\n  };\n\n  return (\n    <div>\n      <h1 className='large'>\n        <i className='fas fa-shopping-cart'></i>\n        {checkoutAsGuest && ' Guest '} Checkout\n      </h1>\n\n      {checkoutAsGuest ? (\n        <ProfileAddress className='mb-5' guest />\n      ) : (\n        <ProfileAddress className='mb-5' order />\n      )}\n      {checkoutAsGuest ? (\n        <CheckoutPayment guest={true} />\n      ) : (\n        <CheckoutPayment guest={false} />\n      )}\n      <div className='form-actions d-flex justify-content-between'>\n        <Link to='/cooler' className='btn pull-left btn-link text-muted pl-0'>\n          Back\n        </Link>\n        <div>\n          <Link to='/' className='btn btn-link text-muted mr-3'>\n            Reset\n          </Link>\n\n          <Link to='/review-order'>\n            <button\n              type='submit'\n              className='btn btn-primary mb-1'\n              onClick={onSubmit}\n              disabled={!(addressValid && paymentValid)}\n            >\n              Review Your Order <i className='fas fa-chevron-right'></i>\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  address: state.profile.address,\n  payment: state.profile.payment,\n  checkoutAsGuest: state.cooler.checkoutAsGuest,\n  addressValid: state.cooler.addressValid,\n  paymentValid: state.cooler.paymentValid,\n});\n\nexport default connect(mapStateToProps, { coolerCheckout, getCurrentProfile })(\n  Checkout\n);\n"]},"metadata":{},"sourceType":"module"}