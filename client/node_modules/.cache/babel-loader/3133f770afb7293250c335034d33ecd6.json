{"ast":null,"code":"var _jsxFileName = \"/Users/andy/Projects/beer-cooler-merged/client/src/components/order/OrderComplete.js\";\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getOrderById } from '../../actions/order-action';\nimport { formatDate } from '../../utils/formatDate';\nimport { OrderAddress } from './OrderAddress';\nimport { OrderPayment } from './OrderPayment';\nimport { OrderItems } from './OrderItems';\nimport { coolerRemoveAll } from '../../actions/cooler-action';\nexport const OrderComplete = ({\n  match,\n  getOrderById,\n  order,\n  isAuthenticated,\n  coolerRemoveAll\n}) => {\n  const location = useLocation();\n  const newOrder = location.state || false; // Make sure isAuth is true from userLoaded before getting order\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getOrderById(match.params.id);\n    }\n  }, [isAuthenticated, getOrderById, match]);\n  useEffect(() => {\n    if (newOrder) {\n      const guest = !isAuthenticated;\n      coolerRemoveAll(guest);\n    }\n  }, [newOrder, isAuthenticated, coolerRemoveAll]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, order && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, isAuthenticated && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/my-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 19\n    }\n  }), \" My Profile\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/my-orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-list-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }), \" My Orders\"))), newOrder && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), \" Your order has been placed\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Your order is still processing, and will be shipped soon.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Order #\", order.orderId), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-calendar-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }), \" Submitted on\", ' ', formatDate(order.date))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(OrderAddress, {\n    address: order.address,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(OrderPayment, {\n    payment: order.payment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(OrderItems, {\n    cooler: order.cooler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  })))));\n};\n\nconst mapStateToProps = state => ({\n  order: state.order.current,\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nexport default connect(mapStateToProps, {\n  getOrderById,\n  coolerRemoveAll\n})(OrderComplete);","map":{"version":3,"sources":["/Users/andy/Projects/beer-cooler-merged/client/src/components/order/OrderComplete.js"],"names":["React","useEffect","connect","Link","useLocation","getOrderById","formatDate","OrderAddress","OrderPayment","OrderItems","coolerRemoveAll","OrderComplete","match","order","isAuthenticated","location","newOrder","state","params","id","guest","orderId","date","address","payment","cooler","mapStateToProps","current","auth"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { getOrderById } from '../../actions/order-action';\nimport { formatDate } from '../../utils/formatDate';\n\nimport { OrderAddress } from './OrderAddress';\nimport { OrderPayment } from './OrderPayment';\nimport { OrderItems } from './OrderItems';\nimport { coolerRemoveAll } from '../../actions/cooler-action';\n\nexport const OrderComplete = ({\n  match,\n  getOrderById,\n  order,\n  isAuthenticated,\n  coolerRemoveAll,\n}) => {\n  const location = useLocation();\n  const newOrder = location.state || false;\n\n  // Make sure isAuth is true from userLoaded before getting order\n  useEffect(() => {\n    if (isAuthenticated) {\n      getOrderById(match.params.id);\n    }\n  }, [isAuthenticated, getOrderById, match]);\n\n  useEffect(() => {\n    if (newOrder) {\n      const guest = !isAuthenticated;\n      coolerRemoveAll(guest);\n    }\n  }, [newOrder, isAuthenticated, coolerRemoveAll]);\n\n  return (\n    <>\n      {order && (\n        <div>\n          {isAuthenticated && (\n            <div className='d-flex justify-content-between mb-3'>\n              <Link to='/my-profile'>\n                <button className='btn btn-primary'>\n                  <i className='fas fa-user' /> My Profile\n                </button>\n              </Link>\n              <Link to='/my-orders'>\n                <button className='btn btn-primary'>\n                  <i className='fas fa-list-alt'></i> My Orders\n                </button>\n              </Link>\n            </div>\n          )}\n          {newOrder && (\n            <div>\n              <h1 className='display-4'>\n                <i className='fas fa-check'></i> Your order has been placed\n              </h1>\n              <p>Your order is still processing, and will be shipped soon.</p>\n            </div>\n          )}\n          <div className='card card-body'>\n            <h1>Order #{order.orderId}</h1>\n            <p className='text-muted'>\n              <i className='far fa-calendar-alt'></i> Submitted on{' '}\n              {formatDate(order.date)}\n            </p>\n          </div>\n          <div className='d-flex justify-content-between'>\n            <div>\n              <div className='card'>\n                <OrderAddress address={order.address} />\n              </div>\n              <div className='card'>\n                <OrderPayment payment={order.payment} />\n              </div>\n            </div>\n            <div className='card'>\n              <OrderItems cooler={order.cooler} />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  order: state.order.current,\n  isAuthenticated: state.auth.isAuthenticated,\n});\n\nexport default connect(mapStateToProps, { getOrderById, coolerRemoveAll })(\n  OrderComplete\n);\n"]},"metadata":{},"sourceType":"module"}