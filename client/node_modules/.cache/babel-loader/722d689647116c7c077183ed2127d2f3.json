{"ast":null,"code":"import { GET_COOLER, COOLER_GET_QUANTITY, COOLER_ADD_PRODUCT, COOLER_REMOVE_PRODUCT, COOLER_CHECKOUT, COOLER_REVIEW, COOLER_CHECKOUT_AS_GUEST, COOLER_CHECKOUT_AS_MEMBER, COOLER_ADDRESS_VALID, COOLER_PAYMENT_VALID, COOLER_ADDRESS_INVALID, COOLER_PAYMENT_INVALID, COOLER_PLACE_ORDER, COOLER_REMOVE_ALL, COOLER_UPDATE_QUANTITY } from '../actions/types';\nconst initialState = {\n  cooler: [],\n  quantity: 0,\n  loading: true,\n  checkout: false,\n  checkoutAsGuest: false,\n  addressValid: false,\n  paymentValid: false,\n  review: false\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_COOLER:\n      return { ...state,\n        cooler: action.payload,\n        loading: false\n      };\n\n    case COOLER_GET_QUANTITY:\n      return { ...state,\n        quantity: state.cooler.length > 0 ? state.cooler.map(i => i.quantity).reduce((a, b) => a + b) : 0\n      };\n\n    case COOLER_ADD_PRODUCT:\n      // If item is already in cooler, increment quantity\n      const itemExists = state.cooler.find(i => i.id === action.payload.id);\n\n      if (itemExists) {\n        const updateQuantity = { ...itemExists,\n          quantity: itemExists.quantity += action.payload.quantity\n        };\n        return { ...state,\n          cooler: state.cooler.filter(i => i.id === updateQuantity.id ? updateQuantity : i)\n        };\n      } else {\n        return { ...state,\n          cooler: state.cooler.concat(action.payload)\n        };\n      }\n\n    case COOLER_REMOVE_PRODUCT:\n      return { ...state,\n        cooler: state.cooler.filter(i => i.id !== action.payload)\n      };\n\n    case COOLER_CHECKOUT:\n      return { ...state,\n        checkout: true\n      };\n\n    case COOLER_REVIEW:\n      return { ...state,\n        review: true\n      };\n\n    case COOLER_CHECKOUT_AS_GUEST:\n      return { ...state,\n        checkoutAsGuest: true\n      };\n\n    case COOLER_CHECKOUT_AS_MEMBER:\n      return { ...state,\n        checkoutAsGuest: false\n      };\n\n    case COOLER_ADDRESS_VALID:\n      return { ...state,\n        addressValid: true\n      };\n\n    case COOLER_ADDRESS_INVALID:\n      return { ...state,\n        addressValid: false\n      };\n\n    case COOLER_PAYMENT_VALID:\n      return { ...state,\n        paymentValid: true\n      };\n\n    case COOLER_PAYMENT_INVALID:\n      return { ...state,\n        paymentValid: false\n      };\n\n    case COOLER_PLACE_ORDER:\n      return { ...state,\n        review: true\n      };\n\n    case COOLER_REMOVE_ALL:\n      return { ...state,\n        cooler: [],\n        review: false,\n        checkout: false,\n        loading: false\n      };\n\n    case COOLER_UPDATE_QUANTITY:\n      const update = state.cooler.find(i => i.id === action.payload.id);\n      update.quantity = action.payload.quantity;\n      return { ...state,\n        cooler: state.cooler.map(i => i.id !== action.payload.id ? i : update)\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/andy/Projects/beer-cooler-merged/client/src/reducers/cooler-reducer.js"],"names":["GET_COOLER","COOLER_GET_QUANTITY","COOLER_ADD_PRODUCT","COOLER_REMOVE_PRODUCT","COOLER_CHECKOUT","COOLER_REVIEW","COOLER_CHECKOUT_AS_GUEST","COOLER_CHECKOUT_AS_MEMBER","COOLER_ADDRESS_VALID","COOLER_PAYMENT_VALID","COOLER_ADDRESS_INVALID","COOLER_PAYMENT_INVALID","COOLER_PLACE_ORDER","COOLER_REMOVE_ALL","COOLER_UPDATE_QUANTITY","initialState","cooler","quantity","loading","checkout","checkoutAsGuest","addressValid","paymentValid","review","state","action","type","payload","length","map","i","reduce","a","b","itemExists","find","id","updateQuantity","filter","concat","update"],"mappings":"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","sourcesContent":["import {\n  GET_COOLER,\n  COOLER_GET_QUANTITY,\n  COOLER_ADD_PRODUCT,\n  COOLER_REMOVE_PRODUCT,\n  COOLER_CHECKOUT,\n  COOLER_REVIEW,\n  COOLER_CHECKOUT_AS_GUEST,\n  COOLER_CHECKOUT_AS_MEMBER,\n  COOLER_ADDRESS_VALID,\n  COOLER_PAYMENT_VALID,\n  COOLER_ADDRESS_INVALID,\n  COOLER_PAYMENT_INVALID,\n  COOLER_PLACE_ORDER,\n  COOLER_REMOVE_ALL,\n  COOLER_UPDATE_QUANTITY,\n} from '../actions/types';\n\nconst initialState = {\n  cooler: [],\n  quantity: 0,\n  loading: true,\n  checkout: false,\n  checkoutAsGuest: false,\n  addressValid: false,\n  paymentValid: false,\n  review: false,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_COOLER:\n      return {\n        ...state,\n        cooler: action.payload,\n        loading: false,\n      };\n    case COOLER_GET_QUANTITY:\n      return {\n        ...state,\n        quantity:\n          state.cooler.length > 0\n            ? state.cooler.map((i) => i.quantity).reduce((a, b) => a + b)\n            : 0,\n      };\n    case COOLER_ADD_PRODUCT:\n      // If item is already in cooler, increment quantity\n      const itemExists = state.cooler.find((i) => i.id === action.payload.id);\n\n      if (itemExists) {\n        const updateQuantity = {\n          ...itemExists,\n          quantity: (itemExists.quantity += action.payload.quantity),\n        };\n        return {\n          ...state,\n          cooler: state.cooler.filter((i) =>\n            i.id === updateQuantity.id ? updateQuantity : i\n          ),\n        };\n      } else {\n        return {\n          ...state,\n          cooler: state.cooler.concat(action.payload),\n        };\n      }\n    case COOLER_REMOVE_PRODUCT:\n      return {\n        ...state,\n        cooler: state.cooler.filter((i) => i.id !== action.payload),\n      };\n    case COOLER_CHECKOUT:\n      return {\n        ...state,\n        checkout: true,\n      };\n    case COOLER_REVIEW:\n      return {\n        ...state,\n        review: true,\n      };\n    case COOLER_CHECKOUT_AS_GUEST:\n      return {\n        ...state,\n        checkoutAsGuest: true,\n      };\n    case COOLER_CHECKOUT_AS_MEMBER:\n      return {\n        ...state,\n        checkoutAsGuest: false,\n      };\n    case COOLER_ADDRESS_VALID:\n      return {\n        ...state,\n        addressValid: true,\n      };\n    case COOLER_ADDRESS_INVALID:\n      return {\n        ...state,\n        addressValid: false,\n      };\n    case COOLER_PAYMENT_VALID:\n      return {\n        ...state,\n        paymentValid: true,\n      };\n    case COOLER_PAYMENT_INVALID:\n      return {\n        ...state,\n        paymentValid: false,\n      };\n    case COOLER_PLACE_ORDER:\n      return {\n        ...state,\n        review: true,\n      };\n    case COOLER_REMOVE_ALL:\n      return {\n        ...state,\n        cooler: [],\n        review: false,\n        checkout: false,\n        loading: false,\n      };\n    case COOLER_UPDATE_QUANTITY:\n      const update = state.cooler.find((i) => i.id === action.payload.id);\n      update.quantity = action.payload.quantity;\n      return {\n        ...state,\n        cooler: state.cooler.map((i) =>\n          i.id !== action.payload.id ? i : update\n        ),\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}